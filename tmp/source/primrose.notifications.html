

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>primrose.notifications package &mdash; primrose 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> primrose
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../README.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README_GETTING_STARTED.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README_DAG_CONFIG.html">DAG Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README_DAG_CONFIG.html#configuration-files">Configuration Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README_DAG_CONFIG.html#comments">Comments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README_DAG_CONFIG.html#configuration-file-fragment-substitution">Configuration File Fragment Substitution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README_DAG_CONFIG.html#configuration-file-validation">Configuration File Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README_METADATA.html">Configuration Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README_METADATA.html#traverser-key">traverser key</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README_METADATA.html#section-registry-key">section_registry key</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README_METADATA.html#section-run-key">section_run key</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README_METADATA.html#data-object-key">data_object key</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README_CLI.html">Primrose Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README_DEVELOPER_NOTES.html">Developer Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README_DATAOBJECT.html">DataObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README_DATAOBJECT.html#saving-data">Saving Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README_DATAOBJECT.html#getting-data">Getting Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README_DATAOBJECT.html#other-methods">Other methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README_NOTIFICATIONS.html">Notifications</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">primrose</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>primrose.notifications package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/tmp/source/primrose.notifications.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="primrose-notifications-package">
<h1>primrose.notifications package<a class="headerlink" href="#primrose-notifications-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-primrose.notifications.abstract_notification">
<span id="primrose-notifications-abstract-notification-module"></span><h2>primrose.notifications.abstract_notification module<a class="headerlink" href="#module-primrose.notifications.abstract_notification" title="Permalink to this headline">¶</a></h2>
<p>Abstract class to notify upon exception</p>
<dl class="simple">
<dt>Author(s):</dt><dd><p>Parul Laul (<a class="reference external" href="mailto:parul&#46;laul&#37;&#52;&#48;ww&#46;com">parul<span>&#46;</span>laul<span>&#64;</span>ww<span>&#46;</span>com</a>)</p>
</dd>
</dl>
<dl class="py class">
<dt id="primrose.notifications.abstract_notification.AbstractNotification">
<em class="property">class </em><code class="sig-prename descclassname">primrose.notifications.abstract_notification.</code><code class="sig-name descname">AbstractNotification</code><a class="headerlink" href="#primrose.notifications.abstract_notification.AbstractNotification" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<dl class="py attribute">
<dt id="primrose.notifications.abstract_notification.AbstractNotification._abc_cache">
<code class="sig-name descname">_abc_cache</code><em class="property"> = &lt;_weakrefset.WeakSet object&gt;</em><a class="headerlink" href="#primrose.notifications.abstract_notification.AbstractNotification._abc_cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="primrose.notifications.abstract_notification.AbstractNotification._abc_negative_cache">
<code class="sig-name descname">_abc_negative_cache</code><em class="property"> = &lt;_weakrefset.WeakSet object&gt;</em><a class="headerlink" href="#primrose.notifications.abstract_notification.AbstractNotification._abc_negative_cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="primrose.notifications.abstract_notification.AbstractNotification._abc_negative_cache_version">
<code class="sig-name descname">_abc_negative_cache_version</code><em class="property"> = 233</em><a class="headerlink" href="#primrose.notifications.abstract_notification.AbstractNotification._abc_negative_cache_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="primrose.notifications.abstract_notification.AbstractNotification._abc_registry">
<code class="sig-name descname">_abc_registry</code><em class="property"> = &lt;_weakrefset.WeakSet object&gt;</em><a class="headerlink" href="#primrose.notifications.abstract_notification.AbstractNotification._abc_registry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="primrose.notifications.abstract_notification.AbstractNotification.post_message">
<em class="property">abstract </em><code class="sig-name descname">post_message</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">message</span></em><span class="sig-paren">)</span><a class="headerlink" href="#primrose.notifications.abstract_notification.AbstractNotification.post_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends message to the notification client.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> (<em>str</em>) – Message to be sent</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-primrose.notifications.success_notification">
<span id="primrose-notifications-success-notification-module"></span><h2>primrose.notifications.success_notification module<a class="headerlink" href="#module-primrose.notifications.success_notification" title="Permalink to this headline">¶</a></h2>
<p>Module with AbstractSuccess implementation.
Provides slack notification after job completion</p>
<p>author(s): Parul Laul (<a class="reference external" href="mailto:parul&#46;laul&#37;&#52;&#48;ww&#46;com">parul<span>&#46;</span>laul<span>&#64;</span>ww<span>&#46;</span>com</a>)</p>
<dl class="py class">
<dt id="primrose.notifications.success_notification.ClientNotification">
<em class="property">class </em><code class="sig-prename descclassname">primrose.notifications.success_notification.</code><code class="sig-name descname">ClientNotification</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">configuration</span></em>, <em class="sig-param"><span class="n">instance_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#primrose.notifications.success_notification.ClientNotification" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="primrose.base.html#primrose.base.success.AbstractSuccess" title="primrose.base.success.AbstractSuccess"><code class="xref py py-class docutils literal notranslate"><span class="pre">primrose.base.success.AbstractSuccess</span></code></a></p>
<p>Outputs success notification using specified client after job completion.</p>
<dl class="py attribute">
<dt id="primrose.notifications.success_notification.ClientNotification._abc_cache">
<code class="sig-name descname">_abc_cache</code><em class="property"> = &lt;_weakrefset.WeakSet object&gt;</em><a class="headerlink" href="#primrose.notifications.success_notification.ClientNotification._abc_cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="primrose.notifications.success_notification.ClientNotification._abc_negative_cache">
<code class="sig-name descname">_abc_negative_cache</code><em class="property"> = &lt;_weakrefset.WeakSet object&gt;</em><a class="headerlink" href="#primrose.notifications.success_notification.ClientNotification._abc_negative_cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="primrose.notifications.success_notification.ClientNotification._abc_negative_cache_version">
<code class="sig-name descname">_abc_negative_cache_version</code><em class="property"> = 233</em><a class="headerlink" href="#primrose.notifications.success_notification.ClientNotification._abc_negative_cache_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="primrose.notifications.success_notification.ClientNotification._abc_registry">
<code class="sig-name descname">_abc_registry</code><em class="property"> = &lt;_weakrefset.WeakSet object&gt;</em><a class="headerlink" href="#primrose.notifications.success_notification.ClientNotification._abc_registry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="primrose.notifications.success_notification.ClientNotification.necessary_config">
<em class="property">static </em><code class="sig-name descname">necessary_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#primrose.notifications.success_notification.ClientNotification.necessary_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the necessary configuration keys for the ClientNotification object</p>
<p class="rubric">Notes</p>
<p>client (<cite>str</cite>): The client object to be instantiated (ex. ‘SlackClient’)
token (<cite>str</cite>): The token used to initialize the client</p>
</dd></dl>

<dl class="py method">
<dt id="primrose.notifications.success_notification.ClientNotification.optional_config">
<em class="property">static </em><code class="sig-name descname">optional_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#primrose.notifications.success_notification.ClientNotification.optional_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the optional configuration keys</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_config</strong> (<em>dict</em>) – set of parameters for the node</p>
</dd>
</dl>
<dl>
<dt>optional keys:</dt><dd><p>use_configuration_file_message(bool): True if you want the slack client to send message from
configuration file. This is the default behavior. If you set it to false
pass the next two parameters to send alternate message passed from another node.</p>
<p>node_name(str): the name of the node where this module will find the message to
post</p>
<p>message_key(str): the key in the node that should be used for getting the message</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Set of optional keys for the pipeline object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="primrose.notifications.success_notification.ClientNotification.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_object</span></em><span class="sig-paren">)</span><a class="headerlink" href="#primrose.notifications.success_notification.ClientNotification.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run job to post slack message</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_object</strong> (<cite>DataObject</cite>) – primrose data object instance</p></li>
<li><p><strong>terminate</strong> (<cite>bool</cite>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="primrose.notifications.success_notification.get_client_params">
<code class="sig-prename descclassname">primrose.notifications.success_notification.</code><code class="sig-name descname">get_client_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span><span class="p">:</span> <span class="n">dict</span></em><span class="sig-paren">)</span><a class="headerlink" href="#primrose.notifications.success_notification.get_client_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the parameter dictionary to be read by the
<cite>get_notification_client</cite> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<cite>dict</cite>) – <p>The parameter dictionary where keys are
- the primrose <cite>client</cite> (required key),
- neccessary arguments to instantiate the client
- the <cite>message</cite> if used in the <cite>implementation</cite> section of the DAG.</p>
<p>Values can be explicitly or stored as environment variables.
Environment variables are stored as {CLIENT_NAME}_{CLIENT_KEY}.</p>
<p>For example, using the built-in SlackClient, environment variables
will be stored as:</p>
<blockquote>
<div><p>SLACKCLIENT_TOKEN=”some-token”
SLACKCLIENT_CHANNEL=”some-channel”
SLACKCLIENT_MEMBER_ID=”USomeUserID”</p>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <cite>dict</cite> with the key-value pairs necessary to be read by the
<cite>get_notification_client</cite> method.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node_config</span> <span class="o">=</span> <span class="p">{</span>
<span class="go">        &quot;client&quot;: &quot;SlackClient&quot;,</span>
<span class="go">        &quot;message&quot;: &quot;starting job...&quot;,</span>
<span class="go">    }</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_client_params</span><span class="p">(</span><span class="n">node_config</span><span class="p">)</span>
<span class="go">{&#39;client&#39;: &#39;SlackClient&#39;,</span>
<span class="go">&#39;channel&#39;: &#39;some-channel&#39;,</span>
<span class="go">&#39;message&#39;: &#39;starting job...&#39;,</span>
<span class="go">&#39;token&#39;: &#39;some-token&#39;,</span>
<span class="go">&#39;member_id&#39;: &#39;USomeUserID&#39;</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-primrose.notifications">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-primrose.notifications" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, WW International, Inc

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>